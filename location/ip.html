<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <title>test</title>
        
        <script src="js/d3.js"></script>
        <script src="js/jquery.min.js"></script>
        <script src="js/jquery.serialize-object.js"></script>
        <link rel="stylesheet" type="text/css" href="css/style.css">
        
    </head>
    <body>

    <div id="title">       
        collecting location data from user demo<br>
        below is your ip address and the location associated with it (no permission is needed to collect IP data)
        <br/>
 </div>
       <div id="location"></div>
        
       
       
       <script type="text/javascript">
     
         //TO GET THE USER'S IP ADDRESS AND LOCATION THROUGH IP
           function getLocation() {               
                   $.getJSON('https://geoip-db.com/json/')//this line alone gets the location
                            .done (function(location) {//this line indicates that once we have a response...
                              console.log(location)//check your developer console for all the things we get
                              
                              //the line below displays the info on our page
d3.select("#location").html("Lng: "+location.longitude+"<br>Lat: "+location.latitude+"<br>Your IP Address: "+location.IPv4)
                            });
           }
           
            getLocation()

           
       </script>      
    </body>
</html>