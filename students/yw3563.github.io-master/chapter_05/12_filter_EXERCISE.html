<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>load data and filter by quality</title>
        <script type="text/javascript" src="../d3.js"></script>
	</head>
	<body>
		<script type="text/javascript">

      //use what you have learned so far to load the file of density and income data in the data folder in this chapter
      //file name is "density_income_ny_counties.csv"
      //see 03 for loading
		var dataset = []
			d3.csv("data/density_income_ny_counties.csv")
      .then(function(data) {
				console.log(data);
      //make a paragraph for each county, and set the name of the county as its text
      //if the median income of the county is above the median income of new york state, turn the county name red
        
				d3.select("body").selectAll("p")
								.data(data)
								.enter()
								.append("p")
								.text(function(d) {
										return d["Geo_NAME"]
								})
								.style("color", function(d){
                  //TODO: Here please use the "median_income" column of each datapoint d like this d["median_income"] to compare with in the if statement below
                  
										if (medincome > 65323){
											return "red" //give it red if the medincome is more than 65323
										}else{
											return "black"
										}
                  })
      //the median income for 2014 - 2018 period is $65,323
      //the key for the name of the county is "Geo_NAME"
      //the key for median income is "median_income"

		})
		.catch(function(error){
				 // handle error
		})
		</script>
	</body>
</html>
