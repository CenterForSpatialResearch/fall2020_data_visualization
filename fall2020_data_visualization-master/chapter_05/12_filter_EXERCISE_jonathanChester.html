<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>load data and filter by quality</title>
        <script type="text/javascript" src="../d3.js"></script>
	</head>
	<body>
		<script type="text/javascript">
			d3.csv("data/density_income_ny_counties.csv") 
      .then(function(data) {
        // data is now whole data set from your food.csv file
				console.log(data)
				d3.select("body").selectAll("p")
				.data(data)//this attaches the dataset above
				.enter()
				.append("p")//for each item in the dataset above, a new paragraph is added to the page
				
      .text(function(d){
        return d["Geo_NAME"]}
    )
    .style("color",function(d){
			//NEW CODE HERE
      //below var income is the income of each county
      var income = d["median_income"]
      //next you need to compare this income to the threshold income I gave.
      //write a if statement here so that if income > 65323, then return red
      //right now the return "red" statement makes everything red
      return "red"
    });//each new paragraph has the text "New paragraph!"
				    
				
        
        // //this line below will print out the dataset into your developer console.
  //         console.log(data);
  //
				
				
        //open food.csv in another window and you can see that it will match what is pointed in the developer console.

        //it is a good idea sometimes to console log your data when you first load it to check that it is what you expect. 
        //you would remove or comment out the cosole log line after - some browsers will not allow console log statements
			
        // now you can use your data to draw chart in here!
        
      })
      .catch(function(error){
           // handle error
      })
      
      //use what you have learned so far to load the file of density and income data in the data folder in this chapter
      //file name is "density_income_ny_counties.csv"
      //see 03 for loading
      
      
      //make a paragraph for each county, and set the name of the county as its text
      //if the median income of the county is above the median income of new york state, turn the county name red
      
      //the median income for 2014 - 2018 period is $65,323
      //the key for the name of the county is "Geo_NAME"
      //the key for median income is "median_income"
			

		</script>
	</body>
</html>